<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Victor</title>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-W8TM46NGTZ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-W8TM46NGTZ');
  </script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400;500&display=swap" rel="stylesheet">
  <link rel="icon" type="image/x-icon" href="wone.png">
  <style>
    :root{
      --label-color: #ffffff;
      --label-size: 14px;
      --circle-size: 100vh;
    }
    html,body{
      height:100%;
      margin:0;
      padding:0;
      font-family: 'Inter', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      overflow:hidden;
    }
    .wheel-wrapper{
      position: fixed;
      top: 0;
      left: calc(-1 * var(--circle-size) / 2);
      width: var(--circle-size);
      height: var(--circle-size);
      pointer-events: auto;
      z-index: 100;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .wheel {
      position: relative;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      box-shadow: 0 8px 40px rgba(0,0,0,0.12);
      overflow: visible;
      transform-origin: 50% 50%;
      will-change: transform;
      pointer-events: none;
    }
    .label-ring{
      position: absolute;
      inset: 0;
      display: block;
      pointer-events: none;
      transform-origin: 50% 50%;
    }
    .label {
      --r: calc(var(--circle-size) / 2 - 48px);
      position: absolute;
      left: 50%;
      top: 50%;
      transform-origin: 0 0;
      pointer-events: none;
      user-select: none;
    }
    .label a{
      pointer-events: auto;
      display: inline-block;
      padding: 6px 10px;
      text-decoration: none;
      color: var(--label-color);
      font-size: var(--label-size);
      font-weight: 400;
      white-space: nowrap;
      transform-origin: 50% 50%;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    canvas { position: fixed; top:0; left:0; z-index: 10; pointer-events: none; }
    #dragon-container img { position: fixed; pointer-events: none; z-index: 90; transition: transform 0.1s linear; }
    #below {
      position: fixed;
      right: 16px;
      bottom: 12px;
      font-size: 12px;
      color: rgba(0,0,0,0.6);
      z-index: 200;
      margin: 0;
    }
    @media (max-width: 680px){
      :root{ --label-size: 12px; }
      .label a{ padding: 4px 6px; font-size:12px; }
    }
  </style>
</head>
<body>
  <div class="wheel-wrapper" aria-hidden="false">
    <div id="wheel" class="wheel" role="navigation" aria-label="Main wheel navigation">
      <div id="labelRing" class="label-ring"></div>
    </div>
  </div>
  <div id="dragon-container"></div>
  <canvas id="linesCanvas"></canvas>
  <p id="below"> ALL RIGHTS RESERVED | Â© 2025 VICTOR MASOTTI </p>
  <script>
    (function setRandomBackground(){
      const r = Math.floor(Math.random()*256);
      const g = Math.floor(Math.random()*256);
      const b = Math.floor(Math.random()*256);
      document.querySelector('.wheel').style.background = `rgb(${r},${g},${b})`;
    })();
    const labels = [
      { text: 'VICTOR MASOTTI', href: 'index.html' },
      { text: 'W/FASHION', href: 'vmwfashion.html' },
      { text: 'W/CINEMA', href: 'vmwcinema.html' },
      { text: 'W/MUSIC', href: 'vmwmusic.html' },
      { text: 'W/VISUALS', href: 'vmwvisuals.html' },
      { text: 'NOTEPAD', href: 'vmnotepad.html' }
    ];
    const labelRing = document.getElementById('labelRing');
    const wheel = document.getElementById('wheel');
    function buildLabels(){
      const count = labels.length;
      for(let i=0;i<count;i++){
        const a = document.createElement('a');
        a.href = labels[i].href;
        a.textContent = labels[i].text;
        const wrapper = document.createElement('div');
        wrapper.className = 'label';
        wrapper.appendChild(a);
        labelRing.appendChild(wrapper);
      }
    }
    buildLabels();
    function positionLabels(){
      const wrappers = Array.from(document.querySelectorAll('.label'));
      const count = wrappers.length;
      const size = window.innerHeight;
      const radius = (size / 2) - 48;
      wrappers.forEach((w, i) => {
        const step = (360 / count) * i - 90;
        const rad = step * Math.PI / 180;
        const x = Math.cos(rad) * radius;
        const y = Math.sin(rad) * radius;
        w.style.transform = `translate(${50 + (x / (size)) * 100}%, ${50 + (y / (size)) * 100}%) rotate(${step}deg)`;
      });
    }
    positionLabels();
    window.addEventListener('resize', positionLabels);
    let rotation = 0;
    let velocity = 0;
    const decay = 0.95;
    const sensitivity = 0.18;
    window.addEventListener('wheel', (e) => { velocity += e.deltaY * sensitivity; }, { passive: true });
    let lastTouchY = null;
    window.addEventListener('touchstart', (e) => {
      if (e.touches.length === 2) lastTouchY = (e.touches[0].clientY + e.touches[1].clientY) / 2;
    }, {passive:true});
    window.addEventListener('touchmove', (e) => {
      if (e.touches.length === 2 && lastTouchY !== null){
        const current = (e.touches[0].clientY + e.touches[1].clientY) / 2;
        const dy = lastTouchY - current;
        velocity += dy * (sensitivity * 0.6);
        lastTouchY = current;
      }
    }, {passive:true});
    window.addEventListener('touchend', (e) => { lastTouchY = null; }, {passive:true});
    function animate(){
      rotation += velocity * 0.6;
      velocity *= decay;
      if (Math.abs(velocity) < 0.01) velocity = 0;
      wheel.style.transform = `rotate(${rotation}deg)`;
      const anchors = document.querySelectorAll('.label a');
      anchors.forEach(a => { a.style.transform = `rotate(${-rotation}deg)`; });
      requestAnimationFrame(animate);
    }
    requestAnimationFrame(animate);
    (function createDragons(){
      const dragonCount = Math.floor(Math.random() * 30) + 20;
      const dragons = [];
      const orbits = [];
      const scales = [];
      const dragonContainer = document.getElementById('dragon-container');
      const imageSources = ["eartth.png", "mondo.png", "terra.png", "solare.png", "circo.png", "tipo.png"];
      for (let i = 0; i < dragonCount; i++) {
        const dragon = document.createElement("img");
        dragon.src = imageSources[Math.floor(Math.random() * imageSources.length)];
        let baseSize = 30 + Math.random() * 120;
        if (Math.random() < 0.1) baseSize *= 2.5;
        dragon.style.width = `${baseSize}px`;
        dragon.style.height = "auto";
        dragonContainer.appendChild(dragon);
        dragons.push(dragon);
        const crazy = Math.random() < 0.25;
        orbits.push({
          radiusX: 100 + Math.random() * window.innerWidth,
          radiusY: 100 + Math.random() * window.innerHeight,
          angle: Math.random() * Math.PI * 2,
          speed: 0.0015 + Math.random() * 0.006,
          centerX: Math.random() * window.innerWidth,
          centerY: Math.random() * window.innerHeight,
          rotateOffset: Math.random() * Math.PI * 2,
          irregular: Math.random() < 0.3 || crazy,
          crazy: crazy,
          rotationSpeed: (Math.random()-0.5)*0.2
        });
        scales.push({
          base: 1,
          delta: Math.random() * 0.02 + 0.01,
          current: 1,
          direction: Math.random() > 0.5 ? 1 : -1,
        });
      }
      function animateDragons() {
        dragons.forEach((dragon, i) => {
          const orbit = orbits[i];
          const scale = scales[i];
          orbit.angle += orbit.speed;
          scale.current += scale.delta * scale.direction;
          if (scale.current > 2.5 || scale.current < 0.5) scale.direction *= -1;
          let x = orbit.centerX + orbit.radiusX * Math.cos(orbit.angle + orbit.rotateOffset);
          let y = orbit.centerY + orbit.radiusY * Math.sin(orbit.angle + orbit.rotateOffset);
          if (orbit.irregular) {
            x += Math.sin(orbit.angle*3 + i) * 30;
            y += Math.cos(orbit.angle*2 + i) * 20;
          }
          const rotation = orbit.crazy ? orbit.angle*3 + i*0.5 : 0;
          dragon.style.transform = `translate(${x}px, ${y}px) scale(${scale.current}) rotate(${rotation}rad)`;
        });
        requestAnimationFrame(animateDragons);
      }
      animateDragons();
    })();
    (function linesCanvas(){
      const canvas = document.getElementById("linesCanvas");
      const ctx = canvas.getContext("2d");
      function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      }
      window.addEventListener("resize", resizeCanvas);
      resizeCanvas();
      const maxLines = 10;
      let lines = [];
      function resetLines() {
        lines = [];
        const startX = canvas.width * 0.2;
        const endX = canvas.width * 0.8;
        for (let i = 0; i < maxLines; i++) {
          lines.push({
            x: startX + Math.random() * (endX - startX),
            width: Math.random() * 6 + 4,
            color: `hsl(${Math.random()*360}, 80%, 50%)`,
            startTime: performance.now()
          });
        }
      }
      resetLines();
      function drawLines() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        const now = performance.now();
        lines.forEach(line => {
          const age = now - line.startTime;
          if (age > 5000) return;
          ctx.beginPath();
          ctx.moveTo(line.x, 0);
          ctx.lineTo(line.x + (Math.random()-0.5)*10, canvas.height);
          ctx.strokeStyle = line.color;
          ctx.lineWidth = line.width;
          ctx.stroke();
        });
        if (lines.length && now - lines[0].startTime > 5000) resetLines();
        requestAnimationFrame(drawLines);
      }
      drawLines();
    })();
    document.querySelectorAll('.label a').forEach(a => a.style.transform = 'rotate(0deg)');
  </script>
</body>
</html>
