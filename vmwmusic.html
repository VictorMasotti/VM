<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MusicVIC---TOR</title>
<link rel="icon" type="image/x-icon" href="pinkfav.png">

<style>
html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  font-family: 'Inter', sans-serif;
  background-color: #C9CED4;
  cursor: url('EARTH2.png'), auto;
}

/* FORCE CUSTOM CURSOR EVERYWHERE */
*, a, a:hover, a:active, a:visited, button, div, .glassButton {
  cursor: url('EARTH2.png'), auto !important;
}

-webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  user-select: none;
}

/* Remove blue highlight on touch */
* {
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
}
.container {
  position: absolute;
  top: 2vh;
  left: 2vw;
  width: calc(100% - 4vw);
  height: calc(100% - 4vh);
  display: flex;
  flex-direction: column;
  gap: 0.4vh;
  border-radius: 2vh;
}
.sectionA {
  flex: 0 0 33%;
  display: flex;
  flex-wrap: wrap;
  gap: 0.5vh;
  padding: 0.5vh;
  border-radius: 1.5vh;
  background: #2F3035;
  position: relative;
}
.sectionA .block1,
.sectionA .block2,
.sectionA .block5 {
  flex: 1;
  background: #C9CED4;
  border-radius: 1.5vh;
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  box-shadow: 0 4px 8px rgba(0,0,0,0.25),
              inset 0 -2px 6px rgba(0,0,0,0.15);
}
.sectionA .block3_4 {
  flex: 2;
  border-radius: 1.5vh;
  background: #111;
  overflow: hidden;
}
.block2 .insetImage {
  position: absolute;
  inset: 10%;
  border-radius: 1.2vh;
  overflow: hidden;
}
.block2 .insetImage img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
.sectionB {
  flex: 0 0 auto;
  min-height: 33%;
}
.sectionC {
  flex: 1 1 auto;
  min-height: 20%;
}
.sectionB, .sectionC {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5vh;
  padding: 0.5vh;
  border-radius: 1.5vh;
  background: #2F3035;
  position: relative;
}
.sectionB .block {
  flex: 1 0 calc(10% - 0.5vh);
  aspect-ratio: 1/1;
  background: #C9CED4;
  border-radius: 1.5vh;
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  overflow: hidden;
  box-shadow: 0 4px 8px rgba(0,0,0,0.25),
              inset 0 -2px 6px rgba(0,0,0,0.15);
}
.sectionC .block {
  flex: 1 0 calc(10% - 0.5vh);
  width: calc(10% - 0.5vh);
  background: #C9CED4;
  border-radius: 1.5vh;
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  overflow: hidden;
  box-shadow: 0 4px 8px rgba(0,0,0,0.25),
              inset 0 -2px 6px rgba(0,0,0,0.15);
}
.glassButton {
  width: 75%;
  height: auto;
  aspect-ratio: 1/1;
  max-height: 75%;
  border-radius: 50%;
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  background: linear-gradient(
    145deg,
    rgba(255,255,255,0.28),
    rgba(255,255,255,0.06)
  );
  backdrop-filter: blur(10px);
  box-shadow:
    4px 4px 10px rgba(0,0,0,0.32),
    inset 0 -4px 8px rgba(0,0,0,0.28),
    inset 0 2px 4px rgba(255,255,255,0.45);
  will-change: transform;
}
.block5 .glassButton {
  width: 75%;
  height: 75%;
}
.blockInnerCircle {
  position: absolute;
  width: 55%;
  height: 55%;
  top: 22.5%;
  left: 22.5%;
  border-radius: 50%;
  box-shadow:
    inset 0 2px 4px rgba(255,255,255,0.35),
    inset 0 -3px 6px rgba(0,0,0,0.35);
}
.secondaryCircle {
  position: absolute;
  inset: 0;
  border-radius: 50%;
  background: radial-gradient(
    circle at 30% 30%,
    rgba(255,255,255,0.35),
    rgba(0,0,0,0.15)
  );
  box-shadow:
    inset 0 3px 6px rgba(255,255,255,0.25),
    inset 0 -6px 10px rgba(0,0,0,0.45);
  pointer-events: none;
}
.block1 canvas {
  width: 100%;
  height: 100%;
  image-rendering: pixelated;
}
.glassButton img {
  width: 60%; /* reduced by 20% */
  height: 60%;
  object-fit: contain;
  pointer-events: none;
}
</style>
</head>

<body>
<div class="container">

<section class="section sectionA">
  <div class="block block1">
    <canvas id="dotMatrix"></canvas>
  </div>

  <div class="block block2">
    <div class="insetImage">
      <img id="randomImage">
    </div>
  </div>

  <div class="block block3_4">
    <img src="aud.gif" style="width:100%;height:100%;object-fit:cover;border-radius:1.5vh;">
  </div>

  <div class="block block5">
    <div class="glassButton"></div>
  </div>
</section>

<section class="section sectionB" id="sectionB"></section>
<section class="section sectionC" id="sectionC"></section>

</div>

<script>
/* AUDIO */
const audio = new Audio('breakTHROUGH.mp3');
audio.preload = 'auto';
const gif = document.querySelector('.block3_4 img');
gif.addEventListener('load', () => { audio.play().catch(()=>{}); });

let audioUnlocked = false;
document.addEventListener('click', () => {
    if(!audioUnlocked){ audio.play().catch(()=>{}); audioUnlocked = true; }
});

/* RANDOM IMAGE */
const imgs = ['corala.png','scattershot.png'];
document.getElementById('randomImage').src =
  imgs[Math.floor(Math.random()*imgs.length)];

/* MATRIX DOTS */
const canvas = document.getElementById('dotMatrix');
const ctx = canvas.getContext('2d');
function resize(){ canvas.width=canvas.offsetWidth; canvas.height=canvas.offsetHeight; }
resize(); window.addEventListener('resize', resize);

const gs=20, dr=4;
function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  const cx=canvas.width/2, cy=canvas.height/2;
  const r=Math.min(canvas.width,canvas.height)/2*0.85;
  const s=(2*r)/(gs-1);
  for(let y=0;y<gs;y++)for(let x=0;x<gs;x++){
    const px=cx-r+x*s, py=cy-r+y*s;
    if((px-cx)**2+(py-cy)**2<=r*r){
      const rnd=Math.random()*99;
      let col='#000';
      if(rnd<2) col='#ff8000';
      else if(rnd<2.6) col='#ffb343';
      else if(rnd<3) col='#40bcf4';
      ctx.beginPath();
      ctx.arc(px,py,dr,0,Math.PI*2);
      ctx.fillStyle=col;
      ctx.fill();
    }
  }
}
setInterval(draw,265); draw();

/* BUTTON CREATION */
function createBlocks(section,num,addHomeIcon=false){
  for(let i=0;i<num;i++){
    const block=document.createElement('div');
    block.className='block';
    const btn=document.createElement('div');
    btn.className='glassButton';

    // Click ripple effect
    btn.addEventListener('click',()=>{      
      const s=document.createElement('div');
      s.className='secondaryCircle';
      btn.appendChild(s);
      s.animate(
        [{transform:'scale(1)',opacity:1},{transform:'scale(0.82)',opacity:0}],
        {duration:900,easing:'cubic-bezier(0.25,1,0.5,1)'}
      );
      setTimeout(()=>s.remove(),900);

      const nova=document.createElement('div');
      nova.style.position='absolute';
      nova.style.top='50%';
      nova.style.left='50%';
      nova.style.width='100%';
      nova.style.height='100%';
      nova.style.transform='translate(-50%,-50%)';
      nova.style.borderRadius='50%';
      nova.style.background='rgba(180,180,180,0.5)';
      nova.style.filter='blur(4px)';
      nova.style.pointerEvents='none';
      btn.appendChild(nova);
      nova.animate(
        [{transform:'translate(-50%,-50%) scale(1)',opacity:1},
         {transform:'translate(-50%,-50%) scale(1.4)',opacity:0}],
        {duration:1100,easing:'ease-out'}
      );
      setTimeout(()=>nova.remove(),1100);
    });

    // Home icon for first block
    if(addHomeIcon && i===0){
      const link = document.createElement('a');
      link.href = 'https://victormasotti.com/';
      link.style.display = 'flex';
      link.style.justifyContent = 'center';
      link.style.alignItems = 'center';
      link.style.width = '100%';
      link.style.height = '100%';

      const homeIcon = document.createElement('img');
      homeIcon.src = 'home.png';
      homeIcon.style.width = '60%'; // reduced size
      homeIcon.style.height = '60%';
      homeIcon.style.objectFit = 'contain';
      homeIcon.style.pointerEvents = 'none';

      link.appendChild(homeIcon);
      btn.appendChild(link);
    }

    block.appendChild(btn);
    section.appendChild(block);
  }
}

const sectionB=document.getElementById('sectionB');
const sectionC=document.getElementById('sectionC');
createBlocks(sectionB,20,true);
createBlocks(sectionC,10);

/* Volume controls for buttons 2 and 3 */
const button2 = sectionB.children[1]; // Second button (index 1)
const button3 = sectionB.children[2]; // Third button (index 2)

// Button 2: Lower volume by 5% with subtle orange shade
button2.querySelector('.glassButton').addEventListener('click', (e) => {
  audio.volume = Math.max(0, audio.volume - 0.05);
  console.log('Volume decreased to:', Math.round(audio.volume * 100) + '%');
  
  e.stopPropagation();
  
  const btn = button2.querySelector('.glassButton');
  
  // Subtle orange tinted secondary circle
  const s = document.createElement('div');
  s.className = 'secondaryCircle';
  s.style.background = 'radial-gradient(circle at 30% 30%, rgba(255, 128, 0, 0.2), rgba(0, 0, 0, 0.15))';
  btn.appendChild(s);
  s.animate(
    [{transform:'scale(1)',opacity:1},{transform:'scale(0.82)',opacity:0}],
    {duration:900,easing:'cubic-bezier(0.25,1,0.5,1)'}
  );
  setTimeout(()=>s.remove(),900);

  // Subtle orange nova
  const nova = document.createElement('div');
  nova.style.position = 'absolute';
  nova.style.top = '50%';
  nova.style.left = '50%';
  nova.style.width = '100%';
  nova.style.height = '100%';
  nova.style.transform = 'translate(-50%,-50%)';
  nova.style.borderRadius = '50%';
  nova.style.background = 'rgba(255, 128, 0, 0.25)';
  nova.style.filter = 'blur(6px)';
  nova.style.pointerEvents = 'none';
  btn.appendChild(nova);
  nova.animate(
    [{transform:'translate(-50%,-50%) scale(1)',opacity:1},
     {transform:'translate(-50%,-50%) scale(1.4)',opacity:0}],
    {duration:1100,easing:'ease-out'}
  );
  setTimeout(()=>nova.remove(),1100);
});

// Button 3: Raise volume by 5% with subtle turquoise shade
button3.querySelector('.glassButton').addEventListener('click', (e) => {
  audio.volume = Math.min(1, audio.volume + 0.05);
  console.log('Volume increased to:', Math.round(audio.volume * 100) + '%');
  
  e.stopPropagation();
  
  const btn = button3.querySelector('.glassButton');
  
  // Subtle turquoise tinted secondary circle
  const s = document.createElement('div');
  s.className = 'secondaryCircle';
  s.style.background = 'radial-gradient(circle at 30% 30%, rgba(64, 188, 244, 0.25), rgba(0, 0, 0, 0.15))';
  btn.appendChild(s);
  s.animate(
    [{transform:'scale(1)',opacity:1},{transform:'scale(0.82)',opacity:0}],
    {duration:900,easing:'cubic-bezier(0.25,1,0.5,1)'}
  );
  setTimeout(()=>s.remove(),900);

  // Subtle turquoise nova
  const nova = document.createElement('div');
  nova.style.position = 'absolute';
  nova.style.top = '50%';
  nova.style.left = '50%';
  nova.style.width = '100%';
  nova.style.height = '100%';
  nova.style.transform = 'translate(-50%,-50%)';
  nova.style.borderRadius = '50%';
  nova.style.background = 'rgba(64, 188, 244, 0.3)';
  nova.style.filter = 'blur(6px)';
  nova.style.pointerEvents = 'none';
  btn.appendChild(nova);
  nova.animate(
    [{transform:'translate(-50%,-50%) scale(1)',opacity:1},
     {transform:'translate(-50%,-50%) scale(1.4)',opacity:0}],
    {duration:1100,easing:'ease-out'}
  );
  setTimeout(()=>nova.remove(),1100);
});

/* 4-color inner circles */
const colors=['#ff8000','#00e054','#ffb343','#40bcf4'];
[...sectionB.children].slice(4,8).forEach((block,i)=>{
  const c=document.createElement('div');
  c.className='blockInnerCircle';
  c.style.background=colors[i];
  block.querySelector('.glassButton').appendChild(c);
});
colors.forEach(col=>{
  const c=document.createElement('div');
  c.className='blockInnerCircle';
  c.style.background=col;
  document.querySelector('.block5 .glassButton').appendChild(c);
});

/* Block5 random time */
document.querySelector('.block5 .glassButton').addEventListener('click', () => {
    const maxTime = 85;
    const randomTime = Math.random() * maxTime;
    audio.currentTime = randomTime;
    audio.play().catch(()=>{});
});

/* Cursor follow - independent blocks */
document.addEventListener('mousemove',e=>{
  [...sectionB.children,...sectionC.children,document.querySelector('.block5')]
  .forEach(block=>{
    const btn=block.querySelector('.glassButton');
    if(!btn) return;
    const r=block.getBoundingClientRect();
    const dx=e.clientX-(r.left+r.width/2);
    const dy=e.clientY-(r.top+r.height/2);
    const dist=Math.hypot(dx,dy);
    const strength=Math.max(0,1-dist/120)*2;
    btn.style.transform=
      `translate(${dx*0.25*strength}px,${dy*0.25*strength}px)
       scale(${1+strength*0.05})`;
  });
});
</script>
</body>
</html>
