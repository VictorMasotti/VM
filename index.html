<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Victor</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400;500&display=swap" rel="stylesheet">
<link rel="icon" type="image/x-icon" href="wone.png">

<style>
html,body{
  margin:0;
  height:100%;
  overflow:hidden;
  font-family:'Inter',sans-serif;
  cursor: url('EARTH2.png'), auto;
  background:#309e6d;
  transition: background 2.8s cubic-bezier(.4,0,.2,1);
}


#fx-layer,
#fx-noise,
#fx-scanlines{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:5;
}

#fx-layer{
  backdrop-filter: blur(0px) saturate(100%);
  transition: backdrop-filter 1.2s ease, background 1.2s ease;
}

#fx-noise{
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='2'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.08'/%3E%3C/svg%3E");
  mix-blend-mode: overlay;
  opacity:0.15;
}

#fx-scanlines{
  background: repeating-linear-gradient(
    to bottom,
    rgba(0,0,0,0.06),
    rgba(0,0,0,0.06) 1px,
    transparent 1px,
    transparent 3px
  );
  mix-blend-mode: overlay;
  opacity:0.25;
}

/* === ORIGINAL STYLES === */
#wheel{
  position:fixed;
  top:0;
  left:-45vw;
  width:110vw;
  height:100vh;
  border-radius:50%;
  display:flex;
  justify-content:center;
  align-items:center;
  background:rgba(255,255,255,0);
}

.label{
  position:absolute;
  transform-origin:0 50%;
  font-size:4.2vh;
  font-weight:500;
  text-align:center;
}
.label a{
  color:black;
  text-decoration:none;
}

canvas{
  position:fixed;
  top:0;
  left:0;
  z-index:10;
  pointer-events:none;
}

#dragon-container img{
  position:fixed;
  pointer-events:none;
  z-index:90;
  transition:transform 0.1s linear;
}

#below{
  position:fixed;
  bottom:12px;
  width:100%;
  text-align:center;
  font-size:10px;
  color:rgba(0,0,0,0.6);
  z-index:200;
  margin:0;
}
</style>
</head>

<body>

<div id="fx-layer"></div>
<div id="fx-noise"></div>
<div id="fx-scanlines"></div>

<div id="wheel"></div>
<div id="dragon-container"></div>
<canvas id="linesCanvas"></canvas>

<p id="below">ALL RIGHTS RESERVED | Â© 2025 VICTOR MASOTTI</p>

<script>
/* ===========================
   BACKGROUND RANDOM ENGINE
=========================== */
const COLORS = ["#309e6d","#ed4302","#d7cfbd","#d8dbe2"];
let shuffled = [];
let index = 0;

function shuffleOnce(arr){
  const a=[...arr];
  for(let i=a.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [a[i],a[j]]=[a[j],a[i]];
  }
  return a;
}

function startBackgroundCycle(){
  shuffled = shuffleOnce(COLORS);
  index = 0;
  const segment = 30000 / shuffled.length;

  function next(){
    document.body.style.background = shuffled[index];

    index++;
    if(index < shuffled.length){
      setTimeout(next, segment);
    } else {
      setTimeout(startBackgroundCycle, 200);
    }
  }
  next();
}

startBackgroundCycle();

/* ===========================
   CHAOTIC GLASS + GLITCH
=========================== */
const fxLayer = document.getElementById("fx-layer");

setInterval(()=>{
  const blur = Math.random()*18;
  const sat = 90 + Math.random()*60;
  const alpha = Math.random()*0.12;

  fxLayer.style.backdropFilter = `blur(${blur}px) saturate(${sat}%)`;
  fxLayer.style.background = `rgba(255,255,255,${alpha})`;
}, 1200 + Math.random()*2000);

setInterval(()=>{
  document.getElementById("fx-noise").style.opacity = 0.08 + Math.random()*0.25;
  document.getElementById("fx-scanlines").style.opacity = 0.15 + Math.random()*0.35;
}, 600);

/* ===========================
   ORIGINAL JS (UNTOUCHED)
=========================== */
const wheel=document.getElementById("wheel");
const labels=[
{text:'VICTOR MASOTTI',href:'index.html'},
{text:'W/FASHION',href:'vmwfashion.html'},
{text:'W/MUSIC',href:'vmwmusic.html'},
{text:'W/CINEMA',href:'vmwcinema.html'},
{text:'NOTEPAD',href:'vmnotepad.html'},
{text:'W/VISUALS',href:'vmwvisuals.html'},
];

let wheelRadiusX=window.innerHeight/2*1.05;
let wheelRadiusY=window.innerHeight/2*0.98;
let labelElements=[];

labels.forEach(l=>{
  const div=document.createElement('div');
  div.className='label';
  const a=document.createElement('a');
  a.href=l.href;
  a.textContent=l.text;
  div.appendChild(a);
  wheel.appendChild(div);
  labelElements.push(div);
});

function positionLabels(rotation=0){
  const count=labelElements.length;
  labelElements.forEach((el,i)=>{
    const angle=(i*(360/count)+rotation)*Math.PI/180;
    const x=Math.cos(angle)*wheelRadiusX;
    const y=Math.sin(angle)*wheelRadiusY;
    el.style.transform=`translate(${x}px,${y}px) rotate(${-rotation}deg)`;
  });
}
positionLabels();

let r=0,velocity=0;
window.addEventListener('wheel',e=>velocity-=e.deltaY*0.02);

function animateWheel(){
  r+=velocity*0.6;
  velocity*=0.95;
  if(Math.abs(velocity)<0.01)velocity=0;
  wheel.style.transform=`rotate(${r}deg)`;
  positionLabels(r);
  requestAnimationFrame(animateWheel);
}
animateWheel();
</script>
</body>
</html>
